# 정보
Pashov Audit Group은 이 분야에서 최고의 스마트 계약 보안 연구원 팀으로 구성되어 있습니다. 총 1000건 이상의 보안 취약점을 보고한 이 그룹은 절대적으로 최고의 감사 여정을 만들기 위해 노력합니다. 100% 보안은 결코 보장할 수 없지만, 경험 많은 연구원들이 귀하의 블록체인 프로토콜을 위해 최선을 다할 것을 보장합니다. 이전 작업은 [여기](https://github.com/pashov/audits)에서 확인하거나 Twitter [@pashovkrum](https://twitter.com/pashovkrum)으로 문의하십시오.

# 면책 조항
스마트 계약 보안 검토는 취약점의 완전한 부재를 보장할 수 없습니다. 이는 시간, 자원 및 전문 지식이 제한된 노력으로, 가능한 한 많은 취약점을 찾으려고 노력합니다. 검토 후 100% 보안을 보장할 수 없으며, 검토를 통해 스마트 계약의 모든 문제를 발견한다고 보장할 수도 없습니다. 후속 보안 검토, 버그 바운티 프로그램 및 온체인 모니터링을 강력히 권장합니다.

# 소개
**Neutrl-lab/plp-contract** 저장소에 대한 시간 제한 보안 검토는 **Pashov Audit Group**에 의해 수행되었으며, 애플리케이션의 스마트 계약 구현 보안 측면에 중점을 두었습니다.

# Neutrl 정보

Neutrl은 사용자 정의 가능한 화이트리스트를 통해 ERC20 토큰 입금을 처리하고, 모든 자산을 지정된 관리인(custodian)에게 자동으로 라우팅하면서 입금 기록을 유지하는 SimpleDepositor 스마트 계약을 구현합니다. 이 시스템은 자산/사용자 권한 및 비상 일시 중지 기능을 통해 유연한 관리를 제공합니다.

# 위험 분류

| 심각도 | 영향: 높음 | 영향: 중간 | 영향: 낮음 |
| --- | --- | --- | --- |
| **가능성: 높음** | 치명적 | 높음 | 중간 |
| **가능성: 중간** | 높음 | 중간 | 낮음 |
| **가능성: 낮음** | 중간 | 낮음 | 낮음 |

## 영향

- 높음 - 프로토콜의 자산에 상당한 물질적 손실을 초래하거나 사용자 그룹에 상당한 피해를 줍니다.

- 중간 - 프로토콜의 자산에 중간 정도의 물질적 손실을 초래하거나 사용자 그룹에 중간 정도의 피해를 줍니다.

- 낮음 - 프로토콜의 자산에 경미한 물질적 손실을 초래하거나 소수의 사용자 그룹에 피해를 줍니다.

## 가능성

- 높음 - 온체인 조건을 모방한 합리적인 가정 하에 공격 경로가 가능하며, 도난당하거나 손실될 수 있는 자금의 양에 비해 공격 비용이 상대적으로 낮습니다.

- 중간 - 조건부로 인센티브가 주어지는 공격 벡터이지만 여전히 상대적으로 가능성이 높습니다.

- 낮음 - 가정이 너무 많거나 가능성이 희박하거나 공격자가 인센티브가 거의 없거나 전혀 없이 상당한 지분을 투자해야 합니다.

## 심각도 수준에 따른 조치 필요

- 치명적 - 가능한 한 빨리 수정해야 함(이미 배포된 경우).

- 높음 - 수정해야 함(아직 배포되지 않은 경우 배포 전).

- 중간 - 수정해야 함.

- 낮음 - 수정할 수 있음.

# 보안 평가 요약
_검토 커밋 해시_ - [c4d00d995e35d6e7ff7390290114022af01cf5f9](https://github.com/Neutrl-lab/plp-contract/tree/c4d00d995e35d6e7ff7390290114022af01cf5f9)

_수정 검토 커밋 해시_ - [5877c828754e0371d6b7b7cfd6205409ac4777dd](https://github.com/Neutrl-lab/plp-contract/tree/5877c828754e0371d6b7b7cfd6205409ac4777dd)

### 범위

다음 스마트 계약이 감사 범위에 포함되었습니다.

- `SimpleDepositor` 

# 발견 사항
# [L-01] `renounceOwnership`이 호출되어 운영이 중단될 수 있음

`deposit`을 제외한 모든 상태 변경 함수는 `SimpleDepositor` 계약의 `Owner`만 호출할 수 있습니다. 따라서 계약은 매우 중앙 집중적입니다. `SimpleDepositor`는 `Ownable`을 상속하므로 아래와 같이 `renounceOwnership()` 함수를 구현합니다.

```solidity
    function renounceOwnership() public virtual onlyOwner {
        _transferOwnership(address(0));
    }
```

Owner가 악의적으로 또는 실수로 이를 호출하면 계약 구성 및 잠긴 자산 인출을 관리할 Owner가 없어지므로 `SimpleDepositor` 계약이 완전히 중단됩니다.

따라서 호출 시 되돌려지도록(revert) `renounceOwnership`을 재정의(override)하는 것이 좋습니다.
